{% extends "base.html" %}

{% block title %}{{ hotel.name }}{% endblock %}

{% block content %}
<div class="container mt-4">

    <h2>{{ hotel.name }}</h2>

    {% if hotel.main_image %}
        <div class="mb-3">
            <img src="{{ hotel.main_image.url }}" class="img-fluid rounded" alt="{{ hotel.name }}">
        </div>
    {% endif %}

    <ul class="list-group mb-4">
        <li class="list-group-item"><strong>Страна:</strong> {{ hotel.country.name }}</li>
        <li class="list-group-item"><strong>Регион:</strong> {{ hotel.region.name }}</li>
        <li class="list-group-item"><strong>Описание:</strong> {{ hotel.description|default:"Нет описания" }}</li>
        <li class="list-group-item"><strong>Средний рейтинг:</strong> {{ hotel.average_rating|default:"Нет оценок" }}</li>
    </ul>

    <h4 class="mb-3">Номера</h4>

    {% if rooms %}
        <div class="row">
            {% for room in rooms %}
                <div class="col-md-4 mb-3">
                    <div class="card h-100">
                        {% if room.image %}
                            <img src="{{ room.image.url }}" class="card-img-top" alt="{{ room.room_type }}">
                        {% endif %}
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ room.room_type }}</h5>
                            <p class="card-text mb-1"><strong>Цена:</strong> {{ room.price_per_night }} ₽</p>

                            <div class="mt-auto">
                                <a href="{% url 'mainapp:room_detail' room.pk %}"
                                   class=".btn-clean">
                                    Подробнее
                                </a>

                                <a href="{% url 'mainapp:booking_create' %}?room={{ room.id }}"
                                   class=".btn-clean">
                                    Забронировать
                                </a>
                            </div>

                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>Нет номеров</p>
    {% endif %}

    <a href="{% url 'mainapp:hotel_list' %}" class=".btn-clean">
        Назад к отелям
    </a>

</div>
{% endblock %}



